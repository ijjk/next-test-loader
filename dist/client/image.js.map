{"version":3,"sources":["../../client/image.tsx"],"names":["loadedImageURLs","Set","window","global","__NEXT_IMAGE_IMPORTED","VALID_LOADING_VALUES","undefined","loaders","Map","defaultLoader","imgixLoader","cloudinaryLoader","akamaiLoader","customLoader","VALID_LAYOUT_VALUES","isStaticRequire","src","default","isStaticImageData","isStaticImport","deviceSizes","configDeviceSizes","imageSizes","configImageSizes","loader","configLoader","path","configPath","domains","configDomains","process","env","__NEXT_IMAGE_OPTS","imageConfigDefault","allSizes","sort","a","b","getWidths","width","layout","sizes","viewportWidthRe","percentSizes","match","exec","push","parseInt","length","smallestRatio","Math","min","widths","filter","s","kind","map","w","find","p","generateImgAttrs","unoptimized","quality","srcSet","last","i","join","getInt","x","defaultImageLoader","loaderProps","load","get","root","Error","VALID_LOADERS","handleLoading","img","placeholder","onLoadingComplete","handleLoad","startsWith","decode","Promise","resolve","catch","then","style","backgroundSize","backgroundImage","add","complete","onload","Image","priority","loading","className","height","objectFit","objectPosition","blurDataURL","all","rest","staticSrc","staticImageData","JSON","stringify","widthInt","heightInt","qualityInt","isLazy","has","NODE_ENV","includes","String","isNaN","console","warn","VALID_BLUR_EXT","rand","floor","random","toString","setRef","isIntersected","rootMargin","disabled","isVisible","wrapperStyle","sizerStyle","sizerSvg","imgStyle","position","top","left","bottom","right","boxSizing","padding","border","margin","display","minWidth","maxWidth","minHeight","maxHeight","backgroundPosition","overflow","quotient","paddingTop","imgAttributes","srcString","normalizeSrc","slice","url","URL","params","searchParams","set","href","paramsString","missingValues","parsedSrc","err","error","hostname","encodeURIComponent"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Head from '../shared/lib/head'\nimport { toBase64 } from '../shared/lib/to-base-64'\nimport {\n  ImageConfig,\n  imageConfigDefault,\n  LoaderValue,\n  VALID_LOADERS,\n} from '../server/image-config'\nimport { useIntersection } from './use-intersection'\n\nconst loadedImageURLs = new Set<string>()\n\nif (typeof window === 'undefined') {\n  ;(global as any).__NEXT_IMAGE_IMPORTED = true\n}\n\nconst VALID_LOADING_VALUES = ['lazy', 'eager', undefined] as const\ntype LoadingValue = typeof VALID_LOADING_VALUES[number]\n\nexport type ImageLoader = (resolverProps: ImageLoaderProps) => string\n\nexport type ImageLoaderProps = {\n  src: string\n  width: number\n  quality?: number\n}\n\ntype DefaultImageLoaderProps = ImageLoaderProps & { root: string }\n\nconst loaders = new Map<\n  LoaderValue,\n  (props: DefaultImageLoaderProps) => string\n>([\n  ['default', defaultLoader],\n  ['imgix', imgixLoader],\n  ['cloudinary', cloudinaryLoader],\n  ['akamai', akamaiLoader],\n  ['custom', customLoader],\n])\n\nconst VALID_LAYOUT_VALUES = [\n  'fill',\n  'fixed',\n  'intrinsic',\n  'responsive',\n  undefined,\n] as const\ntype LayoutValue = typeof VALID_LAYOUT_VALUES[number]\n\ntype PlaceholderValue = 'blur' | 'empty'\n\ntype ImgElementStyle = NonNullable<JSX.IntrinsicElements['img']['style']>\n\ninterface StaticImageData {\n  src: string\n  height: number\n  width: number\n  blurDataURL?: string\n}\n\ninterface StaticRequire {\n  default: StaticImageData\n}\n\ntype StaticImport = StaticRequire | StaticImageData\n\nfunction isStaticRequire(\n  src: StaticRequire | StaticImageData\n): src is StaticRequire {\n  return (src as StaticRequire).default !== undefined\n}\n\nfunction isStaticImageData(\n  src: StaticRequire | StaticImageData\n): src is StaticImageData {\n  return (src as StaticImageData).src !== undefined\n}\n\nfunction isStaticImport(src: string | StaticImport): src is StaticImport {\n  return (\n    typeof src === 'object' &&\n    (isStaticRequire(src as StaticImport) ||\n      isStaticImageData(src as StaticImport))\n  )\n}\n\nexport type ImageProps = Omit<\n  JSX.IntrinsicElements['img'],\n  'src' | 'srcSet' | 'ref' | 'width' | 'height' | 'loading' | 'style'\n> & {\n  src: string | StaticImport\n  width?: number | string\n  height?: number | string\n  layout?: LayoutValue\n  loader?: ImageLoader\n  quality?: number | string\n  priority?: boolean\n  loading?: LoadingValue\n  placeholder?: PlaceholderValue\n  blurDataURL?: string\n  unoptimized?: boolean\n  objectFit?: ImgElementStyle['objectFit']\n  objectPosition?: ImgElementStyle['objectPosition']\n  onLoadingComplete?: () => void\n}\n\nconst {\n  deviceSizes: configDeviceSizes,\n  imageSizes: configImageSizes,\n  loader: configLoader,\n  path: configPath,\n  domains: configDomains,\n} =\n  ((process.env.__NEXT_IMAGE_OPTS as any) as ImageConfig) || imageConfigDefault\n// sort smallest to largest\nconst allSizes = [...configDeviceSizes, ...configImageSizes]\nconfigDeviceSizes.sort((a, b) => a - b)\nallSizes.sort((a, b) => a - b)\n\nfunction getWidths(\n  width: number | undefined,\n  layout: LayoutValue,\n  sizes: string | undefined\n): { widths: number[]; kind: 'w' | 'x' } {\n  if (sizes && (layout === 'fill' || layout === 'responsive')) {\n    // Find all the \"vw\" percent sizes used in the sizes prop\n    const viewportWidthRe = /(^|\\s)(1?\\d?\\d)vw/g\n    const percentSizes = []\n    for (let match; (match = viewportWidthRe.exec(sizes)); match) {\n      percentSizes.push(parseInt(match[2]))\n    }\n    if (percentSizes.length) {\n      const smallestRatio = Math.min(...percentSizes) * 0.01\n      return {\n        widths: allSizes.filter(\n          (s) => s >= configDeviceSizes[0] * smallestRatio\n        ),\n        kind: 'w',\n      }\n    }\n    return { widths: allSizes, kind: 'w' }\n  }\n  if (\n    typeof width !== 'number' ||\n    layout === 'fill' ||\n    layout === 'responsive'\n  ) {\n    return { widths: configDeviceSizes, kind: 'w' }\n  }\n\n  const widths = [\n    ...new Set(\n      // > This means that most OLED screens that say they are 3x resolution,\n      // > are actually 3x in the green color, but only 1.5x in the red and\n      // > blue colors. Showing a 3x resolution image in the app vs a 2x\n      // > resolution image will be visually the same, though the 3x image\n      // > takes significantly more data. Even true 3x resolution screens are\n      // > wasteful as the human eye cannot see that level of detail without\n      // > something like a magnifying glass.\n      // https://blog.twitter.com/engineering/en_us/topics/infrastructure/2019/capping-image-fidelity-on-ultra-high-resolution-devices.html\n      [width, width * 2 /*, width * 3*/].map(\n        (w) => allSizes.find((p) => p >= w) || allSizes[allSizes.length - 1]\n      )\n    ),\n  ]\n  return { widths, kind: 'x' }\n}\n\ntype GenImgAttrsData = {\n  src: string\n  unoptimized: boolean\n  layout: LayoutValue\n  loader: ImageLoader\n  width?: number\n  quality?: number\n  sizes?: string\n}\n\ntype GenImgAttrsResult = {\n  src: string\n  srcSet: string | undefined\n  sizes: string | undefined\n}\n\nfunction generateImgAttrs({\n  src,\n  unoptimized,\n  layout,\n  width,\n  quality,\n  sizes,\n  loader,\n}: GenImgAttrsData): GenImgAttrsResult {\n  if (unoptimized) {\n    return { src, srcSet: undefined, sizes: undefined }\n  }\n\n  const { widths, kind } = getWidths(width, layout, sizes)\n  const last = widths.length - 1\n\n  return {\n    sizes: !sizes && kind === 'w' ? '100vw' : sizes,\n    srcSet: widths\n      .map(\n        (w, i) =>\n          `${loader({ src, quality, width: w })} ${\n            kind === 'w' ? w : i + 1\n          }${kind}`\n      )\n      .join(', '),\n\n    // It's intended to keep `src` the last attribute because React updates\n    // attributes in order. If we keep `src` the first one, Safari will\n    // immediately start to fetch `src`, before `sizes` and `srcSet` are even\n    // updated by React. That causes multiple unnecessary requests if `srcSet`\n    // and `sizes` are defined.\n    // This bug cannot be reproduced in Chrome or Firefox.\n    src: loader({ src, quality, width: widths[last] }),\n  }\n}\n\nfunction getInt(x: unknown): number | undefined {\n  if (typeof x === 'number') {\n    return x\n  }\n  if (typeof x === 'string') {\n    return parseInt(x, 10)\n  }\n  return undefined\n}\n\nfunction defaultImageLoader(loaderProps: ImageLoaderProps) {\n  const load = loaders.get(configLoader)\n  if (load) {\n    return load({ root: configPath, ...loaderProps })\n  }\n  throw new Error(\n    `Unknown \"loader\" found in \"next.config.js\". Expected: ${VALID_LOADERS.join(\n      ', '\n    )}. Received: ${configLoader}`\n  )\n}\n\n// See https://stackoverflow.com/q/39777833/266535 for why we use this ref\n// handler instead of the img's onLoad attribute.\nfunction handleLoading(\n  img: HTMLImageElement | null,\n  src: string,\n  placeholder: PlaceholderValue,\n  onLoadingComplete?: () => void\n) {\n  if (!img) {\n    return\n  }\n  const handleLoad = () => {\n    if (!img.src.startsWith('data:')) {\n      const p = 'decode' in img ? img.decode() : Promise.resolve()\n      p.catch(() => {}).then(() => {\n        if (placeholder === 'blur') {\n          img.style.filter = 'none'\n          img.style.backgroundSize = 'none'\n          img.style.backgroundImage = 'none'\n        }\n        loadedImageURLs.add(src)\n        if (onLoadingComplete) {\n          onLoadingComplete()\n        }\n      })\n    }\n  }\n  if (img.complete) {\n    // If the real image fails to load, this will still remove the placeholder.\n    // This is the desired behavior for now, and will be revisited when error\n    // handling is worked on for the image component itself.\n    handleLoad()\n  } else {\n    img.onload = handleLoad\n  }\n}\n\nexport default function Image({\n  src,\n  sizes,\n  unoptimized = false,\n  priority = false,\n  loading,\n  className,\n  quality,\n  width,\n  height,\n  objectFit,\n  objectPosition,\n  onLoadingComplete,\n  loader = defaultImageLoader,\n  placeholder = 'empty',\n  blurDataURL,\n  ...all\n}: ImageProps) {\n  let rest: Partial<ImageProps> = all\n  let layout: NonNullable<LayoutValue> = sizes ? 'responsive' : 'intrinsic'\n  if ('layout' in rest) {\n    // Override default layout if the user specified one:\n    if (rest.layout) layout = rest.layout\n\n    // Remove property so it's not spread into image:\n    delete rest['layout']\n  }\n\n  let staticSrc = ''\n  if (isStaticImport(src)) {\n    const staticImageData = isStaticRequire(src) ? src.default : src\n\n    if (!staticImageData.src) {\n      throw new Error(\n        `An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(\n          staticImageData\n        )}`\n      )\n    }\n    blurDataURL = blurDataURL || staticImageData.blurDataURL\n    staticSrc = staticImageData.src\n    if (!layout || layout !== 'fill') {\n      height = height || staticImageData.height\n      width = width || staticImageData.width\n      if (!staticImageData.height || !staticImageData.width) {\n        throw new Error(\n          `An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(\n            staticImageData\n          )}`\n        )\n      }\n    }\n  }\n  src = typeof src === 'string' ? src : staticSrc\n\n  const widthInt = getInt(width)\n  const heightInt = getInt(height)\n  const qualityInt = getInt(quality)\n\n  let isLazy =\n    !priority && (loading === 'lazy' || typeof loading === 'undefined')\n  if (src.startsWith('data:')) {\n    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs\n    unoptimized = true\n    isLazy = false\n  }\n  if (typeof window !== 'undefined' && loadedImageURLs.has(src)) {\n    isLazy = false\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (!src) {\n      throw new Error(\n        `Image is missing required \"src\" property. Make sure you pass \"src\" in props to the \\`next/image\\` component. Received: ${JSON.stringify(\n          { width, height, quality }\n        )}`\n      )\n    }\n    if (!VALID_LAYOUT_VALUES.includes(layout)) {\n      throw new Error(\n        `Image with src \"${src}\" has invalid \"layout\" property. Provided \"${layout}\" should be one of ${VALID_LAYOUT_VALUES.map(\n          String\n        ).join(',')}.`\n      )\n    }\n    if (\n      (typeof widthInt !== 'undefined' && isNaN(widthInt)) ||\n      (typeof heightInt !== 'undefined' && isNaN(heightInt))\n    ) {\n      throw new Error(\n        `Image with src \"${src}\" has invalid \"width\" or \"height\" property. These should be numeric values.`\n      )\n    }\n    if (layout === 'fill' && (width || height)) {\n      console.warn(\n        `Image with src \"${src}\" and \"layout='fill'\" has unused properties assigned. Please remove \"width\" and \"height\".`\n      )\n    }\n    if (!VALID_LOADING_VALUES.includes(loading)) {\n      throw new Error(\n        `Image with src \"${src}\" has invalid \"loading\" property. Provided \"${loading}\" should be one of ${VALID_LOADING_VALUES.map(\n          String\n        ).join(',')}.`\n      )\n    }\n    if (priority && loading === 'lazy') {\n      throw new Error(\n        `Image with src \"${src}\" has both \"priority\" and \"loading='lazy'\" properties. Only one should be used.`\n      )\n    }\n    if (placeholder === 'blur') {\n      if (layout !== 'fill' && (widthInt || 0) * (heightInt || 0) < 1600) {\n        console.warn(\n          `Image with src \"${src}\" is smaller than 40x40. Consider removing the \"placeholder='blur'\" property to improve performance.`\n        )\n      }\n      if (!blurDataURL) {\n        const VALID_BLUR_EXT = ['jpeg', 'png', 'webp'] // should match next-image-loader\n\n        throw new Error(\n          `Image with src \"${src}\" has \"placeholder='blur'\" property but is missing the \"blurDataURL\" property.\n          Possible solutions:\n            - Add a \"blurDataURL\" property, the contents should be a small Data URL to represent the image\n            - Change the \"src\" property to a static import with one of the supported file types: ${VALID_BLUR_EXT.join(\n              ','\n            )}\n            - Remove the \"placeholder\" property, effectively no blur effect\n          Read more: https://nextjs.org/docs/messages/placeholder-blur-data-url`\n        )\n      }\n    }\n    if ('ref' in rest) {\n      console.warn(\n        `Image with src \"${src}\" is using unsupported \"ref\" property. Consider using the \"onLoadingComplete\" property instead.`\n      )\n    }\n    const rand = Math.floor(Math.random() * 1000) + 100\n    if (\n      !unoptimized &&\n      !loader({ src, width: rand, quality: 75 }).includes(rand.toString())\n    ) {\n      console.warn(\n        `Image with src \"${src}\" has a \"loader\" property that does not implement width. Please implement it or use the \"unoptimized\" property instead.` +\n          `\\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader-width`\n      )\n    }\n  }\n\n  const [setRef, isIntersected] = useIntersection<HTMLImageElement>({\n    rootMargin: '200px',\n    disabled: !isLazy,\n  })\n  const isVisible = !isLazy || isIntersected\n\n  let wrapperStyle: JSX.IntrinsicElements['div']['style'] | undefined\n  let sizerStyle: JSX.IntrinsicElements['div']['style'] | undefined\n  let sizerSvg: string | undefined\n  let imgStyle: ImgElementStyle | undefined = {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n\n    boxSizing: 'border-box',\n    padding: 0,\n    border: 'none',\n    margin: 'auto',\n\n    display: 'block',\n    width: 0,\n    height: 0,\n    minWidth: '100%',\n    maxWidth: '100%',\n    minHeight: '100%',\n    maxHeight: '100%',\n\n    objectFit,\n    objectPosition,\n\n    ...(placeholder === 'blur'\n      ? {\n          filter: 'blur(20px)',\n          backgroundSize: objectFit || 'cover',\n          backgroundImage: `url(\"${blurDataURL}\")`,\n          backgroundPosition: objectPosition || '0% 0%',\n        }\n      : undefined),\n  }\n  if (layout === 'fill') {\n    // <Image src=\"i.png\" layout=\"fill\" />\n    wrapperStyle = {\n      display: 'block',\n      overflow: 'hidden',\n\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      bottom: 0,\n      right: 0,\n\n      boxSizing: 'border-box',\n      margin: 0,\n    }\n  } else if (\n    typeof widthInt !== 'undefined' &&\n    typeof heightInt !== 'undefined'\n  ) {\n    // <Image src=\"i.png\" width=\"100\" height=\"100\" />\n    const quotient = heightInt / widthInt\n    const paddingTop = isNaN(quotient) ? '100%' : `${quotient * 100}%`\n    if (layout === 'responsive') {\n      // <Image src=\"i.png\" width=\"100\" height=\"100\" layout=\"responsive\" />\n      wrapperStyle = {\n        display: 'block',\n        overflow: 'hidden',\n        position: 'relative',\n\n        boxSizing: 'border-box',\n        margin: 0,\n      }\n      sizerStyle = { display: 'block', boxSizing: 'border-box', paddingTop }\n    } else if (layout === 'intrinsic') {\n      // <Image src=\"i.png\" width=\"100\" height=\"100\" layout=\"intrinsic\" />\n      wrapperStyle = {\n        display: 'inline-block',\n        maxWidth: '100%',\n        overflow: 'hidden',\n        position: 'relative',\n        boxSizing: 'border-box',\n        margin: 0,\n      }\n      sizerStyle = {\n        boxSizing: 'border-box',\n        display: 'block',\n        maxWidth: '100%',\n      }\n      sizerSvg = `<svg width=\"${widthInt}\" height=\"${heightInt}\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\"/>`\n    } else if (layout === 'fixed') {\n      // <Image src=\"i.png\" width=\"100\" height=\"100\" layout=\"fixed\" />\n      wrapperStyle = {\n        overflow: 'hidden',\n        boxSizing: 'border-box',\n        display: 'inline-block',\n        position: 'relative',\n        width: widthInt,\n        height: heightInt,\n      }\n    }\n  } else {\n    // <Image src=\"i.png\" />\n    if (process.env.NODE_ENV !== 'production') {\n      throw new Error(\n        `Image with src \"${src}\" must use \"width\" and \"height\" properties or \"layout='fill'\" property.`\n      )\n    }\n  }\n\n  let imgAttributes: GenImgAttrsResult = {\n    src:\n      'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7',\n    srcSet: undefined,\n    sizes: undefined,\n  }\n\n  if (isVisible) {\n    imgAttributes = generateImgAttrs({\n      src,\n      unoptimized,\n      layout,\n      width: widthInt,\n      quality: qualityInt,\n      sizes,\n      loader,\n    })\n  }\n\n  let srcString: string = src\n\n  return (\n    <div style={wrapperStyle}>\n      {sizerStyle ? (\n        <div style={sizerStyle}>\n          {sizerSvg ? (\n            <img\n              style={{\n                maxWidth: '100%',\n                display: 'block',\n                margin: 0,\n                border: 'none',\n                padding: 0,\n              }}\n              alt=\"\"\n              aria-hidden={true}\n              role=\"presentation\"\n              src={`data:image/svg+xml;base64,${toBase64(sizerSvg)}`}\n            />\n          ) : null}\n        </div>\n      ) : null}\n      {!isVisible && (\n        <noscript>\n          <img\n            {...rest}\n            {...generateImgAttrs({\n              src,\n              unoptimized,\n              layout,\n              width: widthInt,\n              quality: qualityInt,\n              sizes,\n              loader,\n            })}\n            decoding=\"async\"\n            style={imgStyle}\n            className={className}\n          />\n        </noscript>\n      )}\n      <img\n        {...rest}\n        {...imgAttributes}\n        decoding=\"async\"\n        className={className}\n        ref={(img) => {\n          setRef(img)\n          handleLoading(img, srcString, placeholder, onLoadingComplete)\n        }}\n        style={imgStyle}\n      />\n      {priority ? (\n        // Note how we omit the `href` attribute, as it would only be relevant\n        // for browsers that do not support `imagesrcset`, and in those cases\n        // it would likely cause the incorrect image to be preloaded.\n        //\n        // https://html.spec.whatwg.org/multipage/semantics.html#attr-link-imagesrcset\n        <Head>\n          <link\n            key={\n              '__nimg-' +\n              imgAttributes.src +\n              imgAttributes.srcSet +\n              imgAttributes.sizes\n            }\n            rel=\"preload\"\n            as=\"image\"\n            href={imgAttributes.srcSet ? undefined : imgAttributes.src}\n            // @ts-ignore: imagesrcset is not yet in the link element type\n            imagesrcset={imgAttributes.srcSet}\n            // @ts-ignore: imagesizes is not yet in the link element type\n            imagesizes={imgAttributes.sizes}\n          ></link>\n        </Head>\n      ) : null}\n    </div>\n  )\n}\n\nfunction normalizeSrc(src: string): string {\n  return src[0] === '/' ? src.slice(1) : src\n}\n\nfunction imgixLoader({\n  root,\n  src,\n  width,\n  quality,\n}: DefaultImageLoaderProps): string {\n  // Demo: https://static.imgix.net/daisy.png?auto=format&fit=max&w=300\n  const url = new URL(`${root}${normalizeSrc(src)}`)\n  const params = url.searchParams\n\n  params.set('auto', params.get('auto') || 'format')\n  params.set('fit', params.get('fit') || 'max')\n  params.set('w', params.get('w') || width.toString())\n\n  if (quality) {\n    params.set('q', quality.toString())\n  }\n\n  return url.href\n}\n\nfunction akamaiLoader({ root, src, width }: DefaultImageLoaderProps): string {\n  return `${root}${normalizeSrc(src)}?imwidth=${width}`\n}\n\nfunction cloudinaryLoader({\n  root,\n  src,\n  width,\n  quality,\n}: DefaultImageLoaderProps): string {\n  // Demo: https://res.cloudinary.com/demo/image/upload/w_300,c_limit,q_auto/turtles.jpg\n  const params = ['f_auto', 'c_limit', 'w_' + width, 'q_' + (quality || 'auto')]\n  let paramsString = params.join(',') + '/'\n  return `${root}${paramsString}${normalizeSrc(src)}`\n}\n\nfunction customLoader({ src }: DefaultImageLoaderProps): string {\n  throw new Error(\n    `Image with src \"${src}\" is missing \"loader\" prop.` +\n      `\\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader`\n  )\n}\n\nfunction defaultLoader({\n  root,\n  src,\n  width,\n  quality,\n}: DefaultImageLoaderProps): string {\n  if (process.env.NODE_ENV !== 'production') {\n    const missingValues = []\n\n    // these should always be provided but make sure they are\n    if (!src) missingValues.push('src')\n    if (!width) missingValues.push('width')\n\n    if (missingValues.length > 0) {\n      throw new Error(\n        `Next Image Optimization requires ${missingValues.join(\n          ', '\n        )} to be provided. Make sure you pass them as props to the \\`next/image\\` component. Received: ${JSON.stringify(\n          { src, width, quality }\n        )}`\n      )\n    }\n\n    if (src.startsWith('//')) {\n      throw new Error(\n        `Failed to parse src \"${src}\" on \\`next/image\\`, protocol-relative URL (//) must be changed to an absolute URL (http:// or https://)`\n      )\n    }\n\n    if (!src.startsWith('/') && configDomains) {\n      let parsedSrc: URL\n      try {\n        parsedSrc = new URL(src)\n      } catch (err) {\n        console.error(err)\n        throw new Error(\n          `Failed to parse src \"${src}\" on \\`next/image\\`, if using relative image it must start with a leading slash \"/\" or be an absolute URL (http:// or https://)`\n        )\n      }\n\n      if (\n        process.env.NODE_ENV !== 'test' &&\n        !configDomains.includes(parsedSrc.hostname)\n      ) {\n        throw new Error(\n          `Invalid src prop (${src}) on \\`next/image\\`, hostname \"${parsedSrc.hostname}\" is not configured under images in your \\`next.config.js\\`\\n` +\n            `See more info: https://nextjs.org/docs/messages/next-image-unconfigured-host`\n        )\n      }\n    }\n  }\n\n  return `${root}?url=${encodeURIComponent(src)}&w=${width}&q=${quality || 75}`\n}\n"]}