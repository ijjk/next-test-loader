{"version":3,"sources":["../../../lib/eslint/runLintCheck.ts"],"names":["fs","promises","chalk","path","findUp","semver","CommentJson","LintResult","formatResults","writeDefaultConfig","hasEslintConfiguration","ESLINT_PROMPT_VALUES","existsSync","findPagesDir","installDependencies","hasNecessaryDependencies","isYarn","Log","EventLintCheckCompleted","isError","requiredPackages","file","pkg","cliPrompt","console","log","bold","cyan","cliSelect","import","default","value","values","valueRenderer","title","recommended","selected","name","underline","yellow","unselected","config","lint","baseDir","lintDirs","eslintrcFile","pkgJsonPath","lintDuringBuild","eslintOptions","reportErrorsOnly","maxWarnings","formatter","deps","missing","some","dep","error","mod","resolved","get","ESLint","eslintVersion","version","CLIEngine","lt","red","options","useEslintrc","baseConfig","errorOnUnmatchedPattern","extensions","cache","eslint","nextEslintPluginIsEnabled","pagesDirRules","configFile","completeConfig","calculateConfigForFile","plugins","includes","pagesDir","updatedPagesDir","rule","rules","replace","warn","lintStart","process","hrtime","results","lintFiles","selectedFormatter","fix","outputFixes","getErrorResults","loadFormatter","formattedResult","format","lintEnd","totalWarnings","reduce","sum","warningCount","output","length","eventInfo","durationInSeconds","lintedFilesCount","lintFix","nextEslintPluginVersion","require","join","dirname","nextEslintPluginErrorsCount","totalNextPluginErrorCount","nextEslintPluginWarningsCount","totalNextPluginWarningCount","err","message","Error","runLintCheck","strict","cwd","packageJsonConfig","pkgJsonContent","readFile","encoding","parse","exists","selectedConfig","find","opt","ready"],"mappings":"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"}